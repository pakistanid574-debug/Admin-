<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ultimate Device & Sensor Dashboard</title>
<style>
  .info {
    font-size: 18px;
    font-weight: bold;
    position: fixed;
    left: 10px;
    padding: 8px;
    background: rgba(0,0,0,0.6);
    color: lime;
    border-radius: 6px;
    margin-bottom: 5px;
  }
  #fps { top: 10px; }
  #device { top: 50px; }
  #model { top: 90px; }
  #battery { top: 130px; }
  #network { top: 170px; }
  #ir { top: 210px; }
  #screen { top: 250px; }
  #orientation { top: 290px; }
  #cpu { top: 330px; }
  #ram { top: 370px; }
  #motion { top: 410px; }
  #rotation { top: 450px; }
  #deviceOrientation { top: 490px; }
  #light { top: 530px; }
  #proximity { top: 570px; }
</style>
</head>
<body>

<div id="fps" class="info">FPS: 0</div>
<div id="device" class="info">Device: </div>
<div id="model" class="info">Model: </div>
<div id="battery" class="info">Battery: </div>
<div id="network" class="info">Network: </div>
<div id="ir" class="info">IR Blaster: </div>
<div id="screen" class="info">Screen: </div>
<div id="orientation" class="info">Orientation: </div>
<div id="cpu" class="info">CPU cores: </div>
<div id="ram" class="info">Approx RAM: </div>

<div id="motion" class="info">Accelerometer: </div>
<div id="rotation" class="info">Gyroscope: </div>
<div id="deviceOrientation" class="info">Device Orientation: </div>
<div id="light" class="info">Ambient Light: </div>
<div id="proximity" class="info">Proximity: </div>

<script>
  // FPS Detector
  let lastFrameTime = performance.now();
  let fps = 0;
  function detectFPS() {
    const now = performance.now();
    const delta = now - lastFrameTime;
    lastFrameTime = now;
    fps = Math.round(1000 / delta);
    document.getElementById("fps").innerText = `FPS: ${fps}`;
    requestAnimationFrame(detectFPS);
  }

  // Device & Model Detector
  let deviceModel = "Unknown";
  function detectDevice() {
    const ua = navigator.userAgent.toLowerCase();
    let device = "Unknown";
    let version = "";
    let model = "Unknown";

    if (/android/.test(ua)) {
      device = "Android";
      const match = ua.match(/android\s([0-9\.]+)/);
      if (match) version = match[1];
      const modelMatch = ua.match(/;\s([^;]+)\sbuild/);
      if (modelMatch) model = modelMatch[1].trim();
    } else if (/iphone|ipad|ipod/.test(ua)) {
      device = "iOS";
      const match = ua.match(/os\s([0-9_]+)/);
      if (match) version = match[1].replace(/_/g, '.');
      if (/iphone/.test(ua)) model = "iPhone";
      else if (/ipad/.test(ua)) model = "iPad";
      else if (/ipod/.test(ua)) model = "iPod";
    } else if (/windows/.test(ua)) device = "Windows";
    else if (/macintosh/.test(ua)) device = "Mac";

    deviceModel = model;
    document.getElementById("device").innerText = `Device: ${device} ${version}`;
    document.getElementById("model").innerText = `Model: ${model}`;
    detectIR(model);
  }

  // Battery Detector with Charging / Discharging Time
  function detectBattery() {
    if ('getBattery' in navigator) {
      navigator.getBattery().then(battery => {
        function updateBatteryInfo() {
          const level = Math.round(battery.level * 100);
          const charging = battery.charging ? "âš¡ Charging" : "ðŸ”‹ Discharging";
          let time = "";
          if (battery.charging && battery.chargingTime !== Infinity) {
            const hrs = Math.floor(battery.chargingTime / 3600);
            const mins = Math.floor((battery.chargingTime % 3600) / 60);
            time = `, Time to full: ${hrs}h ${mins}m`;
          } else if (!battery.charging && battery.dischargingTime !== Infinity) {
            const hrs = Math.floor(battery.dischargingTime / 3600);
            const mins = Math.floor((battery.dischargingTime % 3600) / 60);
            time = `, Time left: ${hrs}h ${mins}m`;
          }
          document.getElementById("battery").innerText = `Battery: ${level}% ${charging}${time}`;
        }
        updateBatteryInfo();
        battery.addEventListener('levelchange', updateBatteryInfo);
        battery.addEventListener('chargingchange', updateBatteryInfo);
      });
    } else {
      document.getElementById("battery").innerText = "Battery info not supported";
    }
  }

  // Network Detector
  function detectNetwork() {
    const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    function updateNetworkInfo() {
      let type = "Unknown";
      if (connection && connection.effectiveType) type = connection.effectiveType;
      document.getElementById("network").innerText = `Network: ${type}`;
    }
    updateNetworkInfo();
    if (connection) connection.addEventListener('change', updateNetworkInfo);
  }

  // IR Blaster Detector
  function detectIR(model) {
    const irDevices = [
      "Redmi Note 14","Redmi Note 12","Samsung Galaxy S6","Samsung Galaxy S7",
      "Samsung Galaxy S8","Huawei P30","Huawei P20","LG G5","LG G6",
      "Xiaomi Mi 9","Xiaomi Mi 10"
    ];
    const hasIR = irDevices.some(d => model.toLowerCase().includes(d.toLowerCase()));
    document.getElementById("ir").innerText = `IR Blaster: ${hasIR ? "Yes" : "No / Unknown"}`;
  }

  // Screen, Orientation, CPU, RAM
  function detectExtras() {
    document.getElementById("screen").innerText = `Screen: ${window.screen.width}Ã—${window.screen.height}`;
    document.getElementById("orientation").innerText = `Orientation: ${window.innerWidth > window.innerHeight ? "Landscape" : "Portrait"}`;
    document.getElementById("cpu").innerText = `CPU cores: ${navigator.hardwareConcurrency || "Unknown"}`;
    if ('deviceMemory' in navigator) document.getElementById("ram").innerText = `Approx RAM: ${navigator.deviceMemory} GB`;
    else document.getElementById("ram").innerText = `Approx RAM: Unknown`;
  }

  // Sensor Detection
  function detectSensors() {
    // Accelerometer & Gyroscope
    if (window.DeviceMotionEvent) {
      window.addEventListener('devicemotion', e => {
        const acc = e.accelerationIncludingGravity;
        const rot = e.rotationRate;
        document.getElementById('motion').innerText = `Accelerometer: x=${acc.x?.toFixed(2)} y=${acc.y?.toFixed(2)} z=${acc.z?.toFixed(2)}`;
        document.getElementById('rotation').innerText = `Gyroscope: alpha=${rot.alpha?.toFixed(2)} beta=${rot.beta?.toFixed(2)} gamma=${rot.gamma?.toFixed(2)}`;
      });
    } else {
      document.getElementById('motion').innerText = "Accelerometer not supported";
      document.getElementById('rotation').innerText = "Gyroscope not supported";
    }

    // Device Orientation
    if (window.DeviceOrientationEvent) {
      window.addEventListener('deviceorientation', e => {
        document.getElementById('deviceOrientation').innerText = `Orientation: alpha=${e.alpha?.toFixed(2)} beta=${e.beta?.toFixed(2)} gamma=${e.gamma?.toFixed(2)}`;
      });
    } else document.getElementById('deviceOrientation').innerText = "Device orientation not supported";

    // Ambient Light Sensor
    if ('AmbientLightSensor' in window) {
      try {
        const sensor = new AmbientLightSensor();
        sensor.addEventListener('reading', () => {
          document.getElementById('light').innerText = `Ambient Light: ${sensor.illuminance} lux`;
        });
        sensor.start();
      } catch {
        document.getElementById('light').innerText = "Ambient Light not supported";
      }
    } else document.getElementById('light').innerText = "Ambient Light not supported";

    // Proximity Sensor
    if ('ondeviceproximity' in window) {
      window.addEventListener('deviceproximity', e => {
        document.getElementById('proximity').innerText = `Proximity: ${e.value} cm`;
      });
    } else document.getElementById('proximity').innerText = "Proximity not supported";
  }

  window.onload = () => {
    detectDevice();
    detectBattery();
    detectFPS();
    detectNetwork();
    detectExtras();
    detectSensors();
  };
  window.onresize = detectExtras;
</script>

</body>
</html>
